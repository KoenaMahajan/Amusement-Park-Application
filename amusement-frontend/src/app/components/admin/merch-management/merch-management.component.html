<div class="merch-admin">
  <h2>Merchandise Management</h2>

  <form [formGroup]="merchForm" (ngSubmit)="addItem()" class="form">
    <input type="text" placeholder="Name" formControlName="name" />
    <input type="number" placeholder="Price" formControlName="price" min="1" step="0.01" />
    <div *ngIf="merchForm.get('price')?.invalid && merchForm.get('price')?.touched" class="error">
      {{ getPriceErrorMessage() }}
    </div>
    <button type="submit" [disabled]="merchForm.invalid || isLoading">Add Item</button>
  </form>

  <div *ngIf="isLoading">Loading...</div>
  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
  <div *ngIf="successMessage" class="success">{{ successMessage }}</div>

  <table *ngIf="!isLoading && items.length" class="table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Price</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of items">
        <td>{{ item.id }}</td>
        <td>{{ item.name }}</td>
        <td>Rs. {{ item.price | number: '1.2-2' }}</td>
        <td>
          <button (click)="deleteItem(item.id)" [disabled]="isLoading">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>


